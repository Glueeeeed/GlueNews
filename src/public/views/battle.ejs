<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>GlueNews | Walka</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.css"
          integrity="sha512-kJlvECunwXftkPwyvHbclArO8wszgBGisiLeuDFwNM8ws+wKIw0sv1os3ClWZOcrEB2eRXULYUsm8OVRGJKwGA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="http://localhost:2137/css/styles.css" rel="stylesheet"> // CHANGE TO YOUR DOMAIN
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
          integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
          referrerpolicy="no-referrer" rel="stylesheet"/>
    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js" integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+" crossorigin="anonymous"></script>
    <script>
         window.__BATTLE = <%- JSON.stringify({ sessionID, user, sessionData }).replace(/</g, '\\u003c') %>;
    </script>
</head>
<body class="bg-white">
<nav class="fixed w-full top-0 z-10 text-amber-50 navbar ">
    <div class="flex justify-start items-center">
        <p class="text-4xl mt-5 mb-5 ml-10 font-['Pacifico'] text-[#eff1ed]">GlueNews Battle</p>
    </div>
</nav>
<main class="mt-32">

    <!--    // CHAT SECTION-->

    <section hidden id="chatSection" >
        <div class="  items-center flex flex-col justify-center mt-50 ">
            <div class=" flex flex-col items-center w-[75%] max-lg:w-[75%] max-md:w-[90%] max-sm:w-[90%] bg-white box shadow-sm rounded-lg border border-gray-200 p-3 gap-5">
                <div class="flex flex-row gap-5 w-[100%] justify-center">
                    <div class=" bg-gray-200 w-[100%] box shadow-sm rounded-lg border border-gray-300 p-3">
                        <p><%=sessionData.input%></p>
                    </div>
                    <div class="bg-blue-200 w-[20%] box shadow-sm rounded-lg border border-gray-300 p-3">
                        <p id="timer"></p>
                    </div>
                </div>
                <div class="border border-gray-200 bg-gray-100 w-[100%] rounded-lg p-3 gap-5 ">
                    <!-- html -->
                    <div id="chat" class="h-96 w-[100%] flex flex-col gap-3 overflow-auto px-3 py-2">
                        <!-- messages injected here -->
                    </div>
                </div>
                <div id="chatInput" class="w-full flex gap-2 mt-3"><textarea id="chat-input"
                                                              class="flex-1 resize-none p-2 rounded-md border border-gray-300 focus:outline-none"
                                                              rows="1" placeholder="Napisz wiadomość..."></textarea>
                    <button id="send-btn" class="px-4 py-2 bg-amber-500 text-white rounded-md disabled:opacity-50"
                            disabled>Wyślij
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section id="startSection"  class=" flex items-center justify-center">
        <div class=" mt-20 w-full max-w-2xl bg-white rounded-2xl shadow-lg border border-gray-200 p-8 md:p-12">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-[#3a372e] mb-8">Witaj w trybie walki!</h1>
            <div class="space-y-6 text-gray-800 text-lg leading-relaxed text-center">
                <p>Twoim zadaniem jest <span class="font-semibold text-[#3a372e]">dyskutować na dany temat</span>
                    zgodnie z przypisaną Ci rolą.</p>
                <div class="flex justify-center gap-8 my-6 text-sm md:text-base">
                    <div class="bg-green-50 text-green-950 px-5 py-3 rounded-lg font-medium"><i
                                class="fa-solid fa-shield"></i> Obrońca – bronisz tezy
                    </div>
                    <div class="bg-red-50 text-red-800 px-5 py-3 rounded-lg font-medium"><i
                                class="fa-solid fa-bolt-lightning"></i> Obalator – próbujesz ją obalić
                    </div>
                </div>
                <p class="bg-amber-50 border border-amber-200 rounded-lg p-4 text-amber-900 font-medium">Uwaga:
                    musisz grać zgodnie z wylosowaną rolą – nawet jeśli prywatnie myślisz inaczej!</p>

                <div  id="inviteLinkSection" class="mt-10">
                    <p class="mb-4">Udostępnij poniższy link drugiemu graczowi, aby dołączył do pokoju:</p>
                    <input id="inviteLink" type="text" readonly
                           class="w-full md:w-auto px-4 py-2 border border-gray-300 rounded-lg text-center focus:outline-none focus:ring-2 focus:ring-gray-400"
                           value=http://localhost:2137/api/battle/<%=sessionID%>/>
                    <button id="copyInviteBtn"
                            class="mt-4 ml-5 px-6 py-2 bg-amber-500 hover:bg-amber-600 text-white font-semibold rounded-lg transition-all duration-200 shadow-md hover:shadow-lg">
                        Kopiuj link
                    </button>
                </div>

                <button id="readyBtn" class="mt-4 w-full md:w-auto mx-auto px-12 py-4 bg-[#3a372e] hover:bg-[#2c2a22] text-white font-bold text-xl rounded-xl transition-all duration-200 shadow-md hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"
                        disabled>Gotowy!
                </button>
                <p id="checkToMemberP" class="text-xs text-gray-500 mt-4">
                    Przycisk aktywuje się, gdy drugi gracz dołączy
                </p>
            </div>
        </div>
    </section>


    <section id="choosedRoleSection" hidden class="flex items-center justify-center">
        <div class="mt-20 w-full max-w-2xl bg-white rounded-2xl shadow-lg border border-gray-200 p-8 md:p-12">

            <h1 class="text-3xl md:text-4xl font-bold text-center text-[#3a372e] mb-8">
                Twoja rola została wylosowana!
            </h1>
            <div class="space-y-6 text-gray-800 text-lg leading-relaxed text-center">
                <div id="roleObronca" hidden>
                    <div class="bg-green-50 text-green-950 px-5 py-3 rounded-lg font-medium"><i
                                class="fa-solid fa-shield"></i> Obrońca – bronisz tezy
                    </div>
                </div>
                <div id="roleObalator" hidden>
                    <div class="bg-red-50 text-red-800 px-5 py-3 rounded-lg font-medium"><i
                                class="fa-solid fa-bolt-lightning"></i> Obalator – próbujesz obalić teze
                    </div>
                </div>
                <p class="bg-amber-50 border border-amber-200 rounded-lg p-4 text-amber-900 font-medium">Uwaga:
                    musisz grać zgodnie z wylosowaną rolą – nawet jeśli prywatnie myślisz inaczej!</p>
                <div class="mt-10">
                    <button id="understandBtn"
                            class="w-full md:w-auto mx-auto px-12 py-4 bg-[#3a372e] hover:bg-[#2c2a22] text-white font-bold text-xl rounded-xl transition-all duration-200 shadow-md hover:shadow-xl">
                        Rozumiem
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section hidden id="votingSection"   class="flex items-center justify-center">
        <div class="mt-20 w-full max-w-2xl bg-white rounded-2xl shadow-lg border border-gray-200 p-8 md:p-12">

            <h1 class="text-3xl md:text-4xl font-bold text-center text-[#3a372e] mb-8">
                Kto przekonał Cię bardziej?
            </h1>
            <div class="space-y-6 text-gray-800 text-lg leading-relaxed text-center">
                <div id="roleA">
                    <div class="bg-green-50 text-green-950 px-5 py-3 rounded-lg font-medium">A</div>
                </div>
                <div id="roleB">
                    <div class="bg-red-50 text-red-800 px-5 py-3 rounded-lg font-medium">B</div>
                </div>
            </div>
            <div class="flex justify-center mt-6 space-x-8">
                <button id="voteABtn" class="px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
                        disabled>Głosuj na A
                </button>
                <button id="voteBBtn" class="px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
                        disabled>Głosuj na B
                </button>

            </div>
            <p class=" text-center text-sm text-gray-500 mt-5"> Głosowanie trwa 30 sekund..</p>
            <p hidden id="forPlayersInfo" class=" text-center text-sm text-gray-500 mt-5">Tylko widownia moze glosowac</p>
        </div>
    </section>


</main>
<footer class="navbar text-white py-8 mt-120">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="mb-6 mt-6 md:mb-0">
                <a href="#" class="text-3xl font-['Pacifico'] text-white">GlueNews</a>
                <p class="mt-5 max-sm:text-sm opacity-80">Twoje narzędzie do weryfikacji informacji w erze
                    dezinformacji. <br> Razem budujemy bardziej świadome społeczeństwo.</p>
            </div>
        </div>
        <div class="border-t border-white/20 mt-6 p-6 text-center">
            <p class="opacity-80">Stworzono z <i class=" text-red-600 ri-heart-fill"></i> przez Glueeed.</p>
            <p class="opacity-80">Projekt open-source dostępny na <a href="https://github.com/Glueeeeed/GlueNews"><i
                            class="ri-github-fill"></i> GitHub</a></p>
            <p class="text-sm mt-3 opacity-60">Version 1.0.0</p>
        </div>
    </div>
</footer>

<script src="http://localhost:2137/js/battle-chat.js"></script> // CHANGE TO YOUR DOMAIN
<script src="http://localhost:2137/js/battle-room.js"></script> // CHANGE TO YOUR DOMAIN
</body>
</html>